<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height">
<script>
    var oldLog = console.log,
        logs = [];

    function printResults(){
        logs.forEach(function(log){
            document.write(log + '<br>');
        });
        document.body.scrollTop = Number.MAX_VALUE;
    }

    console.log = function(line){
        logs.push(line);
        oldLog.apply(this, arguments);

        if(line.match(/^# ok$/)){
            printResults();
        }
        if(line.match(/^# fail .*?$/)){
            printResults();
        }
    };

    window.onerror = printResults;
</script>
<body>
<script src="index.browser.js"></script>
</body>
